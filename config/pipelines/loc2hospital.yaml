# Pipeline: Loc2Hospital â€” geo retrieval, filtering, ranking.
# Used by scripts/aggregate_regions.py and Loc2Med UI.
#
# Outputs (see docs/PIPELINE_README.md):
#   - data/processed/region_coverage.parquet: one row per (region_id, capability)
#     with coverage_score, facility_count, desert_flag.
#   - outputs/tiles/desert_overlays.geojson: map-ready GeoJSON.
#
# Joining: facility_capabilities uses region_field below; region_coverage uses
# region_id / region_name. Set region_lookup_path to a CSV in data/raw to map
# facility region strings to canonical region_id.

geo:
  region_field: region  # admin region column in facility_capabilities
  region_lookup_path: null  # optional CSV for canonical IDs (relative to data/raw)

filter:
  min_confidence: 0.0  # default; override in UI

ranking:
  primary: confidence
  secondary: capability_completeness

desert:
  hard_threshold: 0.0
  soft_percentile: 25
